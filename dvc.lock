schema: '2.0'
stages:
  download:
    cmd: python3 main.py --download-data
    deps:
    - path: src/data/download.py
      hash: md5
      md5: 27ddf14258757c6d86a05a9c90c2476d
      size: 1276
    outs:
    - path: pipeline_output/data/raw/uniref50.fasta.gz
      hash: md5
      md5: b39e4fdf12810e78e2befdf7460f255b
      size: 92924866
  extract:
    cmd: python3 main.py --extract-data
    deps:
    - path: pipeline_output/data/raw/uniref50.fasta.gz
      hash: md5
      md5: b39e4fdf12810e78e2befdf7460f255b
      size: 92924866
    - path: src/data/extract.py
      hash: md5
      md5: 23e4ea9dacde6571e01df5d538fc6bf1
      size: 1240
    outs:
    - path: pipeline_output/data/raw/uniref50.fasta
      hash: md5
      md5: acd7214694350f9a0c097122b777c978
      size: 286365155
  preprocess:
    cmd: python3 main.py --preprocess-data
    deps:
    - path: pipeline_output/data/raw/uniref50.fasta
      hash: md5
      md5: acd7214694350f9a0c097122b777c978
      size: 286365155
    - path: src/data/preprocess.py
      hash: md5
      md5: ee52367d2858683bb51766ad4742580b
      size: 2011
    params:
      src/data/params.yaml:
        max_seqs_number: 202
        max_sequence_length: 512
        min_sequence_length: 20
    outs:
    - path: pipeline_output/data/processed/uniref50_processed.fasta
      hash: md5
      md5: 7099fbb631785692da131ae0a98ed059
      size: 60788
  split:
    cmd: python3 main.py --split-data
    deps:
    - path: pipeline_output/data/processed/uniref50_processed.fasta
      hash: md5
      md5: 7099fbb631785692da131ae0a98ed059
      size: 60788
    - path: src/data/split.py
      hash: md5
      md5: fdd967a2fbffe636848682f99b36e290
      size: 5219
    params:
      src/data/params.yaml:
        val_ratio: 0.1
    outs:
    - path: pipeline_output/data/processed/dataset_info.txt
      hash: md5
      md5: d9115ed19bb7fc98d46b042fb18cac47
      size: 327
    - path: pipeline_output/data/processed/train.fasta
      hash: md5
      md5: 33ad6f564de82d294362182c70bcf091
      size: 55203
    - path: pipeline_output/data/processed/val.fasta
      hash: md5
      md5: 1a478fe105754ec602b8054ab2a83ec1
      size: 5585
